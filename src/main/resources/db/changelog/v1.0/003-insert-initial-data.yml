databaseChangeLog:

  # ==========================================
  # CHANGESET 1: Insert default system administrator
  # ==========================================
  - changeSet:
      id: 001-insert-system-admin
      author: od46s-team
      changes:
        - insert:
            tableName: users
            columns:
              - column:
                  name: id
                  value: 1
              - column:
                  name: name
                  value: "System Administrator"
              - column:
                  name: email
                  value: "admin@od46s.com"
              - column:
                  name: cpf
                  value: "11111111111"
              - column:
                  name: password
                  # BCrypt hash for "admin123" (cost 10)
                  value: "$2a$10$e0MYzXyjpJS7Pd2ALwx5UuQDyEA7jllI4EHHtoWkwx/dGp/UGxGdm"
              - column:
                  name: active
                  valueBoolean: true
        - insert:
            tableName: administrators
            columns:
              - column:
                  name: id
                  value: 1
              - column:
                  name: access_level
                  value: "SUPER_ADMIN"
              - column:
                  name: department
                  value: "Information Technology"
              - column:
                  name: corporate_phone
                  value: "47999999999"

  # ==========================================
  # CHANGESET 2: Insert default operational admin
  # ==========================================
  - changeSet:
      id: 002-insert-operational-admin
      author: od46s-team
      changes:
        - insert:
            tableName: users
            columns:
              - column:
                  name: id
                  value: 2
              - column:
                  name: name
                  value: "Maria Silva"
              - column:
                  name: email
                  value: "maria.silva@od46s.com"
              - column:
                  name: cpf
                  value: "22222222222"
              - column:
                  name: password
                  # BCrypt hash for "admin123" (cost 10)
                  value: "$2a$10$e0MYzXyjpJS7Pd2ALwx5UuQDyEA7jllI4EHHtoWkwx/dGp/UGxGdm"
              - column:
                  name: active
                  valueBoolean: true
        - insert:
            tableName: administrators
            columns:
              - column:
                  name: id
                  value: 2
              - column:
                  name: access_level
                  value: "ADMIN"
              - column:
                  name: department
                  value: "Urban Cleaning"
              - column:
                  name: corporate_phone
                  value: "47888888888"

  # ==========================================
  # CHANGESET 3: Insert sample driver
  # ==========================================
  - changeSet:
      id: 003-insert-sample-driver
      author: od46s-team
      changes:
        - insert:
            tableName: users
            columns:
              - column:
                  name: id
                  value: 3
              - column:
                  name: name
                  value: "Jo√£o Motorista"
              - column:
                  name: email
                  value: "joao.driver@od46s.com"
              - column:
                  name: cpf
                  value: "33333333333"
              - column:
                  name: password
                  # BCrypt hash for "driver123" (cost 10)  
                  value: "$2a$10$TkjXbjwTCyS6gZJfHOFJo.aB8VH5MxRz1dLkqKOWZTKSaQ6NlALYG"
              - column:
                  name: active
                  valueBoolean: true
        - insert:
            tableName: drivers
            columns:
              - column:
                  name: id
                  value: 3
              - column:
                  name: license_number
                  value: "12345678901"
              - column:
                  name: license_category
                  value: "D"
              - column:
                  name: license_expiry
                  value: "2025-12-31"
              - column:
                  name: enabled
                  valueBoolean: true
              - column:
                  name: phone
                  value: "47777777777"

  # ==========================================
  # CHANGESET 4: Reset sequence values
  # ==========================================
  - changeSet:
      id: 004-reset-sequences
      author: od46s-team
      changes:
        - sql:
            sql: "SELECT setval('users_id_seq', 3, true);"
            dbms: postgresql
      rollback:
        - sql:
            sql: "SELECT setval('users_id_seq', 1, false);"
