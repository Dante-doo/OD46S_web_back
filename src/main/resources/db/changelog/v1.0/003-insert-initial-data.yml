databaseChangeLog:

  # ==========================================
  # CHANGESET 1: Insert default system administrator
  # ==========================================
  - changeSet:
      id: 001-insert-system-admin
      author: od46s-team
      changes:
        - insert:
            tableName: users
            columns:
              - column:
                  name: id
                  value: 1
              - column:
                  name: name
                  value: "System Administrator"
              - column:
                  name: email
                  value: "admin@od46s.com"
              - column:
                  name: cpf
                  value: "11111111111"
              - column:
                  name: password
                  # BCrypt hash for "admin123" (cost 10)
                  value: "$2a$10$9i75y9EgkXmFwocATYea8OnBNsQcqXRGI2psVivZcF7y1tHpKtBPy"
              - column:
                  name: active
                  valueBoolean: true
        - insert:
            tableName: administrators
            columns:
              - column:
                  name: id
                  value: 1
              - column:
                  name: access_level
                  value: "SUPER_ADMIN"
              - column:
                  name: department
                  value: "Information Technology"
              - column:
                  name: corporate_phone
                  value: "47999999999"

  # ==========================================
  # CHANGESET 2: Insert default operational admin
  # ==========================================
  - changeSet:
      id: 002-insert-operational-admin
      author: od46s-team
      changes:
        - insert:
            tableName: users
            columns:
              - column:
                  name: id
                  value: 2
              - column:
                  name: name
                  value: "Maria Silva"
              - column:
                  name: email
                  value: "maria.silva@od46s.com"
              - column:
                  name: cpf
                  value: "22222222222"
              - column:
                  name: password
                  # BCrypt hash for "admin123" (cost 10)
                  value: "$2a$10$9i75y9EgkXmFwocATYea8OnBNsQcqXRGI2psVivZcF7y1tHpKtBPy"
              - column:
                  name: active
                  valueBoolean: true
        - insert:
            tableName: administrators
            columns:
              - column:
                  name: id
                  value: 2
              - column:
                  name: access_level
                  value: "ADMIN"
              - column:
                  name: department
                  value: "Urban Cleaning"
              - column:
                  name: corporate_phone
                  value: "47888888888"

  # ==========================================
  # CHANGESET 3: Insert sample driver
  # ==========================================
  - changeSet:
      id: 003-insert-sample-driver
      author: od46s-team
      changes:
        - insert:
            tableName: users
            columns:
              - column:
                  name: id
                  value: 3
              - column:
                  name: name
                  value: "Jo√£o Motorista"
              - column:
                  name: email
                  value: "joao.driver@od46s.com"
              - column:
                  name: cpf
                  value: "33333333333"
              - column:
                  name: password
                  # BCrypt hash for "driver123" (cost 10)  
                  value: "$2a$10$UEonj4Ke/1mTUorqS8D6p.kRBS0kqvt2mbLACJKerG0PyJ5wjZmM2"
              - column:
                  name: active
                  valueBoolean: true
        - insert:
            tableName: drivers
            columns:
              - column:
                  name: id
                  value: 3
              - column:
                  name: license_number
                  value: "12345678901"
              - column:
                  name: license_category
                  value: "D"
              - column:
                  name: license_expiry
                  value: "2025-12-31"
              - column:
                  name: enabled
                  valueBoolean: true
              - column:
                  name: phone
                  value: "47777777777"

  # ==========================================
  # CHANGESET 4: Reset sequence values
  # ==========================================
  - changeSet:
      id: 004-reset-sequences
      author: od46s-team
      changes:
        - sql:
            sql: "SELECT setval('users_id_seq', 3, true);"
            dbms: postgresql
      rollback:
        - sql:
            sql: "SELECT setval('users_id_seq', 1, false);"

  # ==========================================
  # CHANGESET 5: Insert sample route
  # ==========================================
  - changeSet:
      id: 005-insert-sample-route
      author: od46s-team
      changes:
        - insert:
            tableName: routes
            columns:
              - column:
                  name: id
                  value: 1
              - column:
                  name: name
                  value: "Downtown Route A1"
              - column:
                  name: description
                  value: "Commercial area collection route - Monday, Wednesday, Friday"
              - column:
                  name: collection_type
                  value: "COMMERCIAL"
              - column:
                  name: periodicity
                  value: "0 8 * * 1,3,5"
              - column:
                  name: priority
                  value: "HIGH"
              - column:
                  name: estimated_time_minutes
                  value: 120
              - column:
                  name: distance_km
                  value: 15.5
              - column:
                  name: active
                  valueBoolean: true
              - column:
                  name: notes
                  value: "Heavy traffic area, start early"
              - column:
                  name: created_by
                  value: 1

  # ==========================================
  # CHANGESET 6: Insert sample collection points
  # ==========================================
  - changeSet:
      id: 006-insert-sample-collection-points
      author: od46s-team
      changes:
        - insert:
            tableName: route_collection_points
            columns:
              - column:
                  name: id
                  value: 1
              - column:
                  name: route_id
                  value: 1
              - column:
                  name: sequence_order
                  value: 1
              - column:
                  name: address
                  value: "123 Main Street, Downtown"
              - column:
                  name: latitude
                  value: -25.428400
              - column:
                  name: longitude
                  value: -49.273300
              - column:
                  name: waste_type
                  value: "COMMERCIAL"
              - column:
                  name: estimated_capacity_kg
                  value: 50.00
              - column:
                  name: collection_frequency
                  value: "ALTERNATE"
              - column:
                  name: notes
                  value: "Large office building"
              - column:
                  name: active
                  valueBoolean: true
        - insert:
            tableName: route_collection_points
            columns:
              - column:
                  name: id
                  value: 2
              - column:
                  name: route_id
                  value: 1
              - column:
                  name: sequence_order
                  value: 2
              - column:
                  name: address
                  value: "456 Commerce Avenue, Downtown"
              - column:
                  name: latitude
                  value: -25.429500
              - column:
                  name: longitude
                  value: -49.274200
              - column:
                  name: waste_type
                  value: "COMMERCIAL"
              - column:
                  name: estimated_capacity_kg
                  value: 35.00
              - column:
                  name: collection_frequency
                  value: "ALTERNATE"
              - column:
                  name: notes
                  value: "Shopping center"
              - column:
                  name: active
                  valueBoolean: true
        - insert:
            tableName: route_collection_points
            columns:
              - column:
                  name: id
                  value: 3
              - column:
                  name: route_id
                  value: 1
              - column:
                  name: sequence_order
                  value: 3
              - column:
                  name: address
                  value: "789 Business Street, Downtown"
              - column:
                  name: latitude
                  value: -25.430200
              - column:
                  name: longitude
                  value: -49.275100
              - column:
                  name: waste_type
                  value: "COMMERCIAL"
              - column:
                  name: estimated_capacity_kg
                  value: 45.00
              - column:
                  name: collection_frequency
                  value: "ALTERNATE"
              - column:
                  name: notes
                  value: "Corporate plaza"
              - column:
                  name: active
                  valueBoolean: true

  # ==========================================
  # CHANGESET 7: Reset route sequences
  # ==========================================
  - changeSet:
      id: 007-reset-route-sequences
      author: od46s-team
      changes:
        - sql:
            sql: "SELECT setval('routes_id_seq', 1, true);"
            dbms: postgresql
        - sql:
            sql: "SELECT setval('route_collection_points_id_seq', 3, true);"
            dbms: postgresql
      rollback:
        - sql:
            sql: "SELECT setval('routes_id_seq', 1, false);"
        - sql:
            sql: "SELECT setval('route_collection_points_id_seq', 1, false);"
