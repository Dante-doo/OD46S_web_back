{
	"info": {
		"_postman_id": "od46s-collection-2024",
		"name": "OD46S - Sistema de Coleta de Lixo Urbano",
		"description": "API Collection para sistema de coleta de lixo urbano com autentica√ß√£o JWT e senhas encriptadas com BCrypt",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "od46s-team"
	},
	"item": [
		{
			"name": "üè• Health Checks",
			"item": [
				{
					"name": "Actuator Health",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/actuator/health",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"actuator",
								"health"
							]
						},
						"description": "Endpoint padr√£o do Spring Boot Actuator para verificar status da aplica√ß√£o"
					},
					"response": []
				},
				{
					"name": "Auth Service Health",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/auth/health",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"health"
							]
						},
						"description": "Health check espec√≠fico do servi√ßo de autentica√ß√£o"
					},
					"response": []
				}
			],
			"description": "Endpoints para verificar status da aplica√ß√£o"
		},
		{
			"name": "üîê Authentication",
			"item": [
				{
					"name": "Login",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"admin@od46s.com\",\n  \"password\": \"admin123\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"login"
							]
						},
						"description": "Autentica√ß√£o de usu√°rio com email/senha. Retorna JWT token se credenciais v√°lidas."
					},
					"response": [
						{
							"name": "Login Success",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"email\": \"admin@od46s.com\",\n  \"password\": \"admin123\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/auth/login",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"login"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"token\": \"eyJhbGciOiJIUzUxMiJ9...\",\n  \"email\": \"admin@od46s.com\",\n  \"name\": \"System Administrator\",\n  \"type\": \"ADMIN\"\n}"
						},
						{
							"name": "Login Failed - Invalid Credentials",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"email\": \"admin@od46s.com\",\n  \"password\": \"wrongpassword\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/auth/login",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"login"
									]
								}
							},
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"error\": {\n    \"code\": \"INVALID_CREDENTIALS\",\n    \"message\": \"Senha inv√°lida\"\n  }\n}"
						}
					]
				},
				{
					"name": "Login with CPF",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"cpf\": \"11111111111\",\n  \"password\": \"admin123\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"login"
							]
						},
						"description": "Autentica√ß√£o usando CPF ao inv√©s de email"
					},
					"response": []
				},
				{
					"name": "Register Admin User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Jo√£o Silva\",\n  \"email\": \"joao.silva@od46s.com\",\n  \"cpf\": \"12345678901\",\n  \"password\": \"minhasenha123\",\n  \"type\": \"ADMIN\",\n  \"accessLevel\": \"ADMIN\",\n  \"department\": \"Opera√ß√µes\",\n  \"corporatePhone\": \"47999887766\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"register"
							]
						},
						"description": "Cadastro de novo usu√°rio administrador. Senha √© automaticamente encriptada com BCrypt."
					},
					"response": [
						{
							"name": "Register Success",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"Jo√£o Silva\",\n  \"email\": \"joao.silva@od46s.com\",\n  \"cpf\": \"12345678901\",\n  \"password\": \"minhasenha123\",\n  \"type\": \"ADMIN\",\n  \"accessLevel\": \"ADMIN\",\n  \"department\": \"Opera√ß√µes\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/auth/register",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"register"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"token\": \"eyJhbGciOiJIUzUxMiJ9...\",\n  \"email\": \"joao.silva@od46s.com\",\n  \"name\": \"Jo√£o Silva\",\n  \"type\": \"ADMIN\"\n}"
						},
						{
							"name": "Register Failed - Email Exists",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"Outro Usuario\",\n  \"email\": \"admin@od46s.com\",\n  \"cpf\": \"98765432100\",\n  \"password\": \"senha123\",\n  \"type\": \"ADMIN\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v1/auth/register",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"register"
									]
								}
							},
							"status": "Conflict",
							"code": 409,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"error\": {\n    \"code\": \"EMAIL_EXISTS\",\n    \"message\": \"Email j√° cadastrado\"\n  }\n}"
						}
					]
				},
				{
					"name": "Register Driver User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Maria Motorista\",\n  \"email\": \"maria.driver@od46s.com\",\n  \"cpf\": \"98765432109\",\n  \"password\": \"senha123\",\n  \"type\": \"DRIVER\",\n  \"licenseNumber\": \"12345678902\",\n  \"licenseCategory\": \"D\",\n  \"licenseExpiry\": \"2025-12-31\",\n  \"phone\": \"47888776655\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"register"
							]
						},
						"description": "Cadastro de novo motorista. Inclui dados espec√≠ficos da CNH."
					},
					"response": []
				}
			],
			"description": "Endpoints de autentica√ß√£o - Login e Register com senhas encriptadas BCrypt"
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8080",
			"type": "string"
		}
	]
}
